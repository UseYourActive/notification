# Application
quarkus.application.name=notification-service
quarkus.application.version=@project.version@
quarkus.http.port=8080

# Async Worker Pool (Replaces the messaging config)
smallrye.messaging.worker.notification-workers.max-concurrency=20

# Fault Tolerance
bg.sit_varna.sit.si.service.async.NotificationProcessor/processNotification/Retry/maxRetries=3
bg.sit_varna.sit.si.service.async.NotificationProcessor/processNotification/Retry/delay=2000

# SendGrid Web API
email.provider=${EMAIL_PROVIDER}
quarkus.mailer.host=smtp.sendgrid.net
quarkus.mailer.port=587
quarkus.mailer.username=apikey
quarkus.mailer.password=${SENDGRID_API_KEY}
quarkus.mailer.from=${SENDGRID_FROM_EMAIL}
quarkus.mailer.start-tls=REQUIRED
quarkus.mailer.tls=true
quarkus.mailer.auth-methods=PLAIN LOGIN
quarkus.mailer.login=REQUIRED
quarkus.mailer.mock=false

# Qute
quarkus.qute.content-types.html=text/html
quarkus.qute.content-types.txt=text/plain

# Localization
quarkus.default-locale=en
quarkus.locales=en,bg

# Logging
quarkus.log.level=INFO
quarkus.log.category."bg.sit_varna.sit.si".level=DEBUG
quarkus.log.console.format=%d{yyyy-MM-dd HH:mm:ss,SSS} %-5p [%c{3.}] (%t) %s%e%n

# Database - PostgreSQL
quarkus.datasource.db-kind=postgresql
quarkus.datasource.username=postgres
quarkus.datasource.password=postgres
quarkus.datasource.jdbc.url=jdbc:postgresql://localhost:5432/notificationdb

# Hibernate
quarkus.hibernate-orm.db-generation=update
quarkus.hibernate-orm.schema-management.strategy=update
#quarkus.hibernate-orm.database.generation=update
quarkus.hibernate-orm.log.sql=false

# Twilio Configuration
sms.provider=${SMS_PROVIDER}
twilio.account.sid=${TWILIO_ACCOUNT_SID}
twilio.auth.token=${TWILIO_AUTH_TOKEN}
twilio.phone.number=${TWILIO_PHONE_NUMBER}

# Redis Configurations
quarkus.redis.hosts=redis://localhost:6379
quarkus.redis.client-name=notification-service
quarkus.redis.timeout=10s
# Metrics
redis.metrics.enabled=true
# Cache
redis.cache.enabled=true
redis.cache.ttl=1h
# Rate Limiting
redis.rate-limit.enabled=true
redis.rate-limit.email-max=10
redis.rate-limit.email-window=1h
redis.rate-limit.sms-max=5
redis.rate-limit.sms-window=1h
redis.rate-limit.telegram-max=20
redis.rate-limit.telegram-window=1h
redis.rate-limit.viber-max=10
redis.rate-limit.viber-window=1h
# Deduplication
redis.deduplication.enabled=true
redis.deduplication.ttl=5m

# Telegram Configuration
telegram.enabled=true
telegram.bot.token=${TELEGRAM_BOT_TOKEN}
telegram.bot.username=${TELEGRAM_BOT_USERNAME}
telegram.default-parse-mode=HTML
bg.sit_varna.sit.si.service.channel.telegram.TelegramApiSender/sendMessage/Retry/maxRetries=5
bg.sit_varna.sit.si.service.channel.telegram.TelegramApiSender/sendMessage/Timeout/value=15

# Viber Configuration
viber.enabled=false
viber.auth.token=${VIBER_AUTH_TOKEN}
viber.sender.name=${VIBER_SENDER_NAME:botname}